{"ast":null,"code":"var _jsxFileName = \"/Users/cici-psy/Documents/GitHub/arc-art-critique/arc-frontend/src/homemyposts.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { About } from \"./components/about\";\nimport { Gallery } from \"./components/gallery\";\nimport JsonData from \"./data/data.json\";\nimport SmoothScroll from \"smooth-scroll\";\nimport Navigation from \"./components/navigate\";\nimport Add from \"./components/add\";\nimport Drawer from \"./components/drawer\";\nimport Axios from \"axios\";\nimport { getPopoverUtilityClass } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const scroll = new SmoothScroll('a[href*=\"#\"]', {\n  speed: 1000,\n  speedAsDuration: true\n});\n\nconst Homemyposts = ({\n  children\n}) => {\n  _s();\n\n  const [landingPageData, setLandingPageData] = useState({});\n  const [sentImage, setSentImage] = useState([]);\n  const [isLoggedIn, setLoggedIn] = useState(false);\n  const [loggedInUser, setLoggedInUser] = useState('');\n  const [loggedInUserID, setLoggedInUserID] = useState('');\n  const [load, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [errorMessage, setErrMessage] = useState('');\n  const history = useHistory();\n  useEffect(() => {\n    Axios.get(\"/api/login\").then(response => {\n      if (response.data.loggedIn === true) {\n        console.log(response.data.user._id);\n        setLoggedIn(true);\n        setLoggedInUser(response.data.user);\n        setLoggedInUserID(response.data.user._id);\n        let url = `/posts/myPosts?userId=${response.data.user._id}`;\n        console.log(url);\n        Axios.get(`${url}`).then(response => {\n          console.log(response.data['user posts search']);\n          let image = {\n            postid: response.data['user posts search']._id,\n            postimage: response.data['user posts search'].image\n          };\n          setSentImage(response.data['user posts search']);\n          setLoading(false);\n\n          if (response.data['user posts search'] == 0) {\n            setMessage(\"Start the journey by sharing your first post! :) \");\n          } else {\n            setMessage(\"\");\n          }\n        }).catch(error => {\n          setErrMessage(\"Error encountered on the server.\");\n        });\n      } else {\n        console.log(\"not logged in\");\n        history.push(\"/login\");\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {\n      user: loggedInUser,\n      loggedIn: isLoggedIn,\n      page: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Gallery, {\n      loaded: load,\n      image: sentImage,\n      loggedIn: isLoggedIn,\n      message: message,\n      error: errorMessage,\n      page: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Homemyposts, \"AEpy/M+Y0AkeYvCSGCKSiwY18WY=\", true);\n\n_c = Homemyposts;\nexport default Homemyposts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Homemyposts\");","map":{"version":3,"sources":["/Users/cici-psy/Documents/GitHub/arc-art-critique/arc-frontend/src/homemyposts.jsx"],"names":["useState","useEffect","About","Gallery","JsonData","SmoothScroll","Navigation","Add","Drawer","Axios","getPopoverUtilityClass","scroll","speed","speedAsDuration","Homemyposts","children","landingPageData","setLandingPageData","sentImage","setSentImage","isLoggedIn","setLoggedIn","loggedInUser","setLoggedInUser","loggedInUserID","setLoggedInUserID","load","setLoading","message","setMessage","errorMessage","setErrMessage","history","useHistory","get","then","response","data","loggedIn","console","log","user","_id","url","image","postid","postimage","catch","error","push"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,KAAT,QAAsB,oBAAtB;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,sBAAT,QAAuC,eAAvC;;AAEA,OAAO,MAAMC,MAAM,GAAG,IAAIN,YAAJ,CAAiB,cAAjB,EAAiC;AACrDO,EAAAA,KAAK,EAAE,IAD8C;AAErDC,EAAAA,eAAe,EAAE;AAFoC,CAAjC,CAAf;;AAKP,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AAAA;;AAClC,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCjB,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAK,CAACkB,SAAD,EAAWC,YAAX,IAAyBnB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACoB,UAAD,EAAaC,WAAb,IAA0BrB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACsB,YAAD,EAAcC,eAAd,IAA+BvB,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAACwB,cAAD,EAAgBC,iBAAhB,IAAmCzB,QAAQ,CAAC,EAAD,CAAjD;AACA,QAAM,CAAE0B,IAAF,EAAQC,UAAR,IAAuB3B,QAAQ,CAAC,IAAD,CAArC;AACA,QAAK,CAAC4B,OAAD,EAASC,UAAT,IAAqB7B,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAK,CAAC8B,YAAD,EAAcC,aAAd,IAA6B/B,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAMgC,OAAO,GAACC,UAAU,EAAxB;AAEAhC,EAAAA,SAAS,CAAC,MAAI;AACZQ,IAAAA,KAAK,CAACyB,GAAN,CAAU,YAAV,EAAwBC,IAAxB,CAA8BC,QAAD,IAAY;AACvC,UAAGA,QAAQ,CAACC,IAAT,CAAcC,QAAd,KAAyB,IAA5B,EAAiC;AAC/BC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAAT,CAAcI,IAAd,CAAmBC,GAA/B;AACArB,QAAAA,WAAW,CAAC,IAAD,CAAX;AACAE,QAAAA,eAAe,CAACa,QAAQ,CAACC,IAAT,CAAcI,IAAf,CAAf;AACAhB,QAAAA,iBAAiB,CAACW,QAAQ,CAACC,IAAT,CAAcI,IAAd,CAAmBC,GAApB,CAAjB;AAEA,YAAIC,GAAG,GAAI,yBAAwBP,QAAQ,CAACC,IAAT,CAAcI,IAAd,CAAmBC,GAAI,EAA1D;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACAlC,QAAAA,KAAK,CAACyB,GAAN,CAAW,GAAES,GAAI,EAAjB,EACCR,IADD,CACOC,QAAD,IAAY;AAChBG,UAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAAT,CAAc,mBAAd,CAAZ;AACA,cAAIO,KAAK,GAAC;AACRC,YAAAA,MAAM,EAACT,QAAQ,CAACC,IAAT,CAAc,mBAAd,EAAmCK,GADlC;AAERI,YAAAA,SAAS,EAACV,QAAQ,CAACC,IAAT,CAAc,mBAAd,EAAmCO;AAFrC,WAAV;AAIAzB,UAAAA,YAAY,CAACiB,QAAQ,CAACC,IAAT,CAAc,mBAAd,CAAD,CAAZ;AACAV,UAAAA,UAAU,CAAC,KAAD,CAAV;;AACA,cAAIS,QAAQ,CAACC,IAAT,CAAc,mBAAd,KAAsC,CAA1C,EAA4C;AAC1CR,YAAAA,UAAU,CAAC,mDAAD,CAAV;AACD,WAFD,MAEK;AACHA,YAAAA,UAAU,CAAC,EAAD,CAAV;AACD;AACF,SAdD,EAcGkB,KAdH,CAcUC,KAAD,IAAU;AACjBjB,UAAAA,aAAa,CAAC,kCAAD,CAAb;AACD,SAhBD;AAkBD,OA1BD,MA0BO;AACLQ,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAR,QAAAA,OAAO,CAACiB,IAAR,CAAa,QAAb;AACD;AAEF,KAhCD;AAmCD,GApCQ,EAoCP,EApCO,CAAT;AAuCA,sBACE;AAAA,4BACE,QAAC,UAAD;AAAY,MAAA,IAAI,EAAE3B,YAAlB;AAAgC,MAAA,QAAQ,EAAEF,UAA1C;AAAsD,MAAA,IAAI;AAA1D;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,OAAD;AAAS,MAAA,MAAM,EAAEM,IAAjB;AAAuB,MAAA,KAAK,EAAER,SAA9B;AAAyC,MAAA,QAAQ,EAAEE,UAAnD;AAA+D,MAAA,OAAO,EAAIQ,OAA1E;AAAmF,MAAA,KAAK,EAAEE,YAA1F;AAAwG,MAAA,IAAI,EAAE;AAA9G;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD,CA3DD;;GAAMhB,W;;KAAAA,W;AA6DN,eAAeA,WAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { About } from \"./components/about\";\nimport { Gallery } from \"./components/gallery\";\nimport JsonData from \"./data/data.json\";\nimport SmoothScroll from \"smooth-scroll\";\nimport Navigation from \"./components/navigate\";\nimport Add from \"./components/add\";\nimport Drawer from \"./components/drawer\";\nimport Axios from \"axios\";\nimport { getPopoverUtilityClass } from \"@mui/material\";\n\nexport const scroll = new SmoothScroll('a[href*=\"#\"]', {\n  speed: 1000,\n  speedAsDuration: true,\n});\n\nconst Homemyposts = ({children}) => {\n  const [landingPageData, setLandingPageData] = useState({});\n  const[sentImage,setSentImage]=useState([]);\n  const [isLoggedIn, setLoggedIn]=useState(false);\n  const [loggedInUser,setLoggedInUser]=useState('');\n  const [loggedInUserID,setLoggedInUserID]=useState('');\n  const [ load, setLoading ] = useState(true);\n  const[message,setMessage]=useState('');\n  const[errorMessage,setErrMessage]=useState('');\n  const history=useHistory();\n\n  useEffect(()=>{\n    Axios.get(\"/api/login\").then((response)=>{\n      if(response.data.loggedIn===true){\n        console.log(response.data.user._id);\n        setLoggedIn(true);\n        setLoggedInUser(response.data.user);\n        setLoggedInUserID(response.data.user._id);\n        \n        let url = `/posts/myPosts?userId=${response.data.user._id}`;\n        console.log(url);\n        Axios.get(`${url}`)\n        .then((response)=>{\n          console.log(response.data['user posts search']);\n          let image={\n            postid:response.data['user posts search']._id,\n            postimage:response.data['user posts search'].image       \n          };\n          setSentImage(response.data['user posts search']);\n          setLoading(false);\n          if (response.data['user posts search'] == 0){\n            setMessage(\"Start the journey by sharing your first post! :) \")\n          }else{\n            setMessage(\"\")\n          }\n        }).catch((error)=> {\n          setErrMessage(\"Error encountered on the server.\");\n        });\n            \n      } else {\n        console.log(\"not logged in\");\n        history.push(\"/login\");\n      }      \n      \n    });\n    \n   \n  },[]);\n\n\n  return (\n    <div>\n      <Navigation user={loggedInUser} loggedIn={isLoggedIn} page/>\n      <Gallery loaded={load} image={sentImage} loggedIn={isLoggedIn} message = {message} error={errorMessage} page={1}/>\n      <Add />\n      <Drawer />\n    </div>\n    \n  );\n};\n\nexport default Homemyposts;\n"]},"metadata":{},"sourceType":"module"}