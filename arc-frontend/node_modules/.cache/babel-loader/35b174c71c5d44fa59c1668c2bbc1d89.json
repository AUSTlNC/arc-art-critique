{"ast":null,"code":"var _jsxFileName = \"/Users/AustinCai/Desktop/CS 370/ARC/Arc-FrontEnd-2.0/src/home.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { About } from \"./components/about\";\nimport { Gallery } from \"./components/gallery\";\nimport JsonData from \"./data/data.json\";\nimport SmoothScroll from \"smooth-scroll\";\nimport Navigation from \"./components/navigate\";\nimport Add from \"./components/add\";\nimport Drawer from \"./components/drawer\";\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const scroll = new SmoothScroll('a[href*=\"#\"]', {\n  speed: 1000,\n  speedAsDuration: true\n});\n\nconst Home = ({\n  children\n}) => {\n  _s();\n\n  const [landingPageData, setLandingPageData] = useState({});\n  const [sentImage, setSentImage] = useState([]);\n  const [isLoggedIn, setLoggedIn] = useState(false);\n  const [loggedInUser, setLoggedInUser] = useState('');\n  const [load, setLoading] = useState(true);\n  const [errorMessage, setErrMessage] = useState('');\n  useEffect(() => {\n    Axios.post(\"posts/all\", 3).then(response => {\n      let image = {\n        postid: response.data[0]._id,\n        postimage: response.data[0].image\n      };\n      setSentImage(response.data);\n      console.log(sentImage);\n      console.log(response);\n      setLoading(false);\n    }).catch(error => {\n      setErrMessage(\"Error encountered on the server.\");\n    });\n  }, []);\n  useEffect(() => {\n    Axios.get(\"/api/login\").then(response => {\n      if (response.data.loggedIn === true) {\n        console.log(response.data.user);\n        setLoggedIn(true);\n        setLoggedInUser(response.data.user.username);\n      }\n\n      ;\n    }).catch(error => {\n      setErrMessage(\"Error encountered on the server.\");\n    });\n  }, []);\n\n  function setImage(e) {\n    console.log(e);\n    let params = {\n      keyword: e\n    };\n    Axios.get(\"posts/fuzzy\", {\n      params\n    }).then(response => {\n      console.log(response.data['fuzzy search']);\n      setSentImage(response.data['fuzzy search']);\n      console.log(sentImage);\n    }).catch(error => {\n      setErrMessage(\"Error encountered on the server.\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {\n      setImage: setImage,\n      user: loggedInUser,\n      loggedIn: isLoggedIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Gallery, {\n      loaded: load,\n      image: sentImage,\n      loggedIn: isLoggedIn,\n      message: '',\n      error: errorMessage,\n      page: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"THTxGyF/47toE2KVyZWRPWBrRVU=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/AustinCai/Desktop/CS 370/ARC/Arc-FrontEnd-2.0/src/home.jsx"],"names":["useState","useEffect","About","Gallery","JsonData","SmoothScroll","Navigation","Add","Drawer","Axios","scroll","speed","speedAsDuration","Home","children","landingPageData","setLandingPageData","sentImage","setSentImage","isLoggedIn","setLoggedIn","loggedInUser","setLoggedInUser","load","setLoading","errorMessage","setErrMessage","post","then","response","image","postid","data","_id","postimage","console","log","catch","error","get","loggedIn","user","username","setImage","e","params","keyword"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { About } from \"./components/about\";\nimport { Gallery } from \"./components/gallery\";\nimport JsonData from \"./data/data.json\";\nimport SmoothScroll from \"smooth-scroll\";\nimport Navigation from \"./components/navigate\";\nimport Add from \"./components/add\";\nimport Drawer from \"./components/drawer\";\nimport Axios from \"axios\";\n\n\nexport const scroll = new SmoothScroll('a[href*=\"#\"]', {\n  speed: 1000,\n  speedAsDuration: true,\n});\n\nconst Home = ({children}) => {\n  const [landingPageData, setLandingPageData] = useState({});\n  const[sentImage,setSentImage]=useState([]);\n  const [isLoggedIn, setLoggedIn]=useState(false);\n  const [loggedInUser,setLoggedInUser]=useState('');\n  const [ load, setLoading ] = useState(true);\n  const[errorMessage,setErrMessage]=useState('');\n\n  useEffect(() => {\n    Axios.post(\"posts/all\",3).then((response)=>{\n\n      let image={\n        postid:response.data[0]._id,\n        postimage:response.data[0].image\n        \n      \n      }\n      setSentImage(response.data);\n      console.log(sentImage);\n      console.log(response);\n      setLoading(false);\n    }).catch((error)=> {\n      setErrMessage(\"Error encountered on the server.\");\n    });\n  }, []);\n \n  useEffect(()=>{\n    Axios.get(\"/api/login\").then((response)=>{\n      if(response.data.loggedIn===true){\n        console.log(response.data.user);\n        setLoggedIn(true);\n        setLoggedInUser(response.data.user.username);\n      };\n    }).catch((error)=> {\n      setErrMessage(\"Error encountered on the server.\");\n    });\n  },[]);\nfunction setImage(e){\n  console.log(e);\n  let params={keyword:e};\n  Axios.get(\"posts/fuzzy\", {params}).then((response)=>{\n    console.log(response.data['fuzzy search']);\n\n    setSentImage(response.data['fuzzy search']);\n    console.log(sentImage);\n  \n  }).catch((error)=> {\n    setErrMessage(\"Error encountered on the server.\");\n  });\n}\n\n\n  return (\n    <div>\n      <Navigation setImage={setImage} user={loggedInUser} loggedIn={isLoggedIn}/>\n      <Gallery loaded={load} image={sentImage} loggedIn={isLoggedIn} message={''} error={errorMessage}page={0}/>\n      <Add />\n      <Drawer />\n    </div>\n    \n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}